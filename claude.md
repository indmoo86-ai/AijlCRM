# 艾居来 CRM 项目工作方式说明

## 项目基本信息

- **项目名称**：艾居来 CRM
- **项目定位**：酒店智能硬件营销领域的客户关系管理系统
- **部署方式**：云端部署（阿里云）
- **用户规模**：10个以内用户
- **技术选型原则**：优先使用成熟开源方案，选择最方便快捷的技术栈

## 核心功能模块

1. **基础数据模块**（优先开发）
   - 产品管理
   - 客户管理
   - 用户角色权限管理

2. **线索管理模块**
   - 线索录入
   - 持续跟踪
   - 状态管理

3. **方案生成模块**
   - 在线产品选配
   - 自动生成PDF格式方案文件

4. **项目管理模块**
   - 线索转化为项目
   - 合同管理
   - 发货管理
   - 回款管理
   - 售后管理

## 开发工作流程

### 第一阶段：需求分析
1. 使用 requirements-analyst agent 逐步确认需求细节
2. 针对每个模块进行系统化需求梳理
3. 生成正式的软件需求规格说明书（SRS）
4. 输出文档：`requirements.md`

### 第二阶段：方案设计
1. 使用 Plan agent 设计技术方案
2. 推荐成熟的开源技术栈和框架
3. 设计系统架构（前端、后端、数据库）
4. 与客户确认技术选型
5. 输出文档：`architecture.md`

### 第三阶段：迭代开发
1. 使用 TodoWrite 工具管理所有开发任务
2. 按模块进行开发，确保每个模块独立可测试
3. 持续更新待办清单，记录开发进度
4. 开发任务状态：pending（待处理）→ in_progress（进行中）→ completed（已完成）

### 第四阶段：质量保证
每个独立模块完成后：
1. 使用 code-test-auditor agent 进行审计：
   - 需求对照检查
   - 生成测试用例
   - 执行自动化测试
   - 生成问题清单和覆盖率矩阵
2. 逐步修复发现的问题
3. 与客户进行人工测试确认
4. 测试通过后再进入下一个模块开发
5. 如果模块无法独立测试，直接进入下一个功能开发

### 第五阶段：持续改进
1. 记录所有变更需求到 `changelog.md`
2. 维护技术文档和用户手册
3. 根据反馈持续优化

## 文档管理规范

项目根目录下的关键文档：

- `claude.md` - 工作方式说明（本文档）
- `requirements.md` - 软件需求规格说明书
- `architecture.md` - 技术方案和系统架构
- `todo.md` - 待办事项清单（自动管理）
- `changelog.md` - 需求变更和开发日志
- `README.md` - 项目说明和快速开始指南

## 开发原则

1. **模块化优先**：确保每个功能模块独立、可测试
2. **开源优先**：优先采用成熟稳定的开源方案
3. **敏捷迭代**：快速开发、快速验证、快速调整
4. **质量保证**：代码审查、测试覆盖、需求对照
5. **文档同步**：代码和文档同步更新

## 沟通机制

1. 需求不明确时，主动询问确认
2. 技术方案选型前，提供多个选项供选择
3. 每个模块完成后，等待测试确认
4. 发现问题时，及时记录并优先修复

## 下一步行动

当前进度：✅ 工作方式确认完成

下一步：启动需求分析阶段，针对**基础数据模块**进行详细需求梳理
